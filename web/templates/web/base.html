{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="{% static 'web/style.css' %}">
  <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
  <link rel="shortcut icon" type="image/png" href="{% static 'web/images/favicon.ico' %}"/>
  <title>{{ title }}</title>
</head>

<body>

  <script type="text/javascript" src="{% static 'web/js/vanilla-slider.js' %}"></script>
  <header>
    <div class="cjtf_logo"><a href="/"><img src="{% static 'web/images/logo_header.png' %}"></a></div>
    <div class="search">
      {% include 'web/search_form.html' %}
      <img src="{% static 'web/images/magnifying_glass.png' %}" width="15px" height="16px">
    </div>
    <div class="logos">
        <a href="https://www.dvrpc.org/">
          <img src="{% static 'web/images/dvrpc_small.png' %}" style="padding-right: 15px"></a>
        <a href="https://www.njtpa.org"><img src="{% static 'web/images/njtpa_small.png' %}"></a>
    </div>
    <nav>
      <button class="opener">&#9776;</button>
      <ul>
        <li><button class="closer">&#215;</button></li>
        <li><a href="{% url 'web:about' %}"
          {% if request.resolver_match.url_name == 'about' %}
            class="active"
          {% endif %}
          >About</a>
        </li>
        <li>
          <a href="{% url 'web:membership' %}"
          {% if request.resolver_match.url_name == 'membership' %}
            class="active"
          {% endif %}
          >Membership</a>
        </li>
        <li>
          <a href="{% url 'web:events_meetings' %}"
          {% if request.resolver_match.url_name == 'events_meetings' %}
            class="active"
          {% endif %}
          >Events & Meetings</a>
        </li>
        <li>
          <a href="{% url 'web:resources' %}"
          {% if 'resources' in request.resolver_match.url_name %}
            class="active"
          {% endif %}
          >Resources</a>
          <ul>
            <li><a href="{% url 'web:technical_resources' %}">Technical Resources</a></li><br>
            <li><a href="{% url 'web:funding_resources' %}">Funding Resources</a></li><br>
            <li><a href="{% url 'web:partner_orgs' %}">Partner Organizations</a></li><br>
          </ul>
        </li>
        <li>
          <a href="{% url 'web:contact' %}"
          {% if request.resolver_match.url_name == 'contact' %}
            class="active"
          {% endif %}
          >Contact</a>
      </ul>
    </nav>
  </header>
  {% block main %}

  {% endblock %}

  <footer>
    <a href="https://www.dvrpc.org/">
      <img src="{% static 'web/images/dvrpc_small.png' %}" style="padding-right: 15px"></a>
    <a href="https://www.njtpa.org">
      <img src="{% static 'web/images/njtpa_small.png' %}"></a>
  </footer>
  {% comment %}
    slider from https://github.com/rchisholm/vanilla-slider, slightly modified so images
    span full viewport width
  {% endcomment %}
  <script>
    /* initate slider */
    var options = {
      transitionTime: 750,
      transitionZoom: 'in',
      arrows:false,
      auto: true,
      autoTime: 6000,
      autoPauseOnHover: false,
    }
    var mySlider = createSlider('heroimage', options);

    /* responsive mode menu */
    const openerButton = document.querySelector('.opener');
    const closerButton = document.querySelector('.closer');

    function toggleMenu() {
      ulItem = document.querySelector('nav > ul');
      ulItem.classList.toggle('show');
    }

    openerButton.addEventListener('click', toggleMenu);
    closerButton.addEventListener('click', toggleMenu);
  </script>
  <script type="text/javascript" src="{% static 'web/js/collapse.js' %}"></script>
</body>
</html>
